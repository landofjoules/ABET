BEGIN;
--
-- Create model courseOutcomeMap
--
CREATE TABLE "ABET_DB_courseoutcomemap" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "courseName" varchar(48) NOT NULL, "outcomeLetter" varchar(3) NOT NULL);
--
-- Create model performanceIndicators
--
CREATE TABLE "ABET_DB_performanceindicators" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "weight" decimal NOT NULL, "description" varchar(512) NOT NULL);
--
-- Create model performanceLevels
--
CREATE TABLE "ABET_DB_performancelevels" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "achievementLevel" integer NOT NULL, "description" varchar(512) NOT NULL);
--
-- Create model piData
--
CREATE TABLE "ABET_DB_pidata" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "studentStrengths" varchar(512) NOT NULL, "studentWeaknesses" varchar(512) NOT NULL, "achievementLevel" integer NOT NULL, "numberAchieved" integer NOT NULL, "yr" integer NOT NULL, "semester" varchar(6) NOT NULL);
--
-- Create model rubrics
--
CREATE TABLE "ABET_DB_rubrics" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "achievementLevel" integer NOT NULL, "gradeRange" integer NOT NULL, "description" varchar(512) NOT NULL);
--
-- Rename field year on outcomedata to yr
--
ALTER TABLE "ABET_DB_outcomedata" RENAME TO "ABET_DB_outcomedata__old";
CREATE TABLE "ABET_DB_outcomedata" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "outcomeLetter" varchar(3) NOT NULL, "courseName" varchar(48) NOT NULL, "achievementLevel" integer NOT NULL, "numberAchieved" integer NOT NULL, "yr" integer NOT NULL);
INSERT INTO "ABET_DB_outcomedata" ("courseName", "achievementLevel", "outcomeLetter", "numberAchieved", "yr", "id") SELECT "courseName", "achievementLevel", "outcomeLetter", "numberAchieved", "year", "id" FROM "ABET_DB_outcomedata__old";
DROP TABLE "ABET_DB_outcomedata__old";
--
-- Add field semester to outcomedata
--
ALTER TABLE "ABET_DB_outcomedata" RENAME TO "ABET_DB_outcomedata__old";
CREATE TABLE "ABET_DB_outcomedata" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "outcomeLetter" varchar(3) NOT NULL, "courseName" varchar(48) NOT NULL, "achievementLevel" integer NOT NULL, "yr" integer NOT NULL, "numberAchieved" integer NOT NULL, "semester" varchar(6) NOT NULL);
INSERT INTO "ABET_DB_outcomedata" ("courseName", "semester", "achievementLevel", "outcomeLetter", "numberAchieved", "yr", "id") SELECT "courseName", 'fall', "achievementLevel", "outcomeLetter", "numberAchieved", "yr", "id" FROM "ABET_DB_outcomedata__old";
DROP TABLE "ABET_DB_outcomedata__old";

COMMIT;
